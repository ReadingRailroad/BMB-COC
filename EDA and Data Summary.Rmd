---
title: "2018 EDA_Summary"
author: "Marty Simonson"
date: "November 12, 2018"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

```{r,include=FALSE}
packages<-function(x, repos="http://cran.r-project.org", ...){
x<-as.character(match.call()[[2]])
if (!require(x,character.only=TRUE)){
install.packages(pkgs=x, repos=repos, ...)
require(x,character.only=TRUE)
}
}

packages(vegan)
packages(ggplot2)
packages(gridExtra)
packages(reshape2)
packages(FSA)
packages(nnet)
#packages(multcomp)
#packages(plyr)
#packages(rv)
#packages(arm)
packages(lattice)
packages(tikzDevice)
#packages(GGally)
packages(wesanderson)
#packages(DescTools)
#packages(mvnormtest)
#packages(HH)
#packages(biotools)
#packages(car)
#packages(psych)
#packages(GPArotation)
#packages(doBy)
```



# Load in data and summarize, look for glaring errors:
```{r}
data<-read.csv("2018_Data_compiled.csv",header=T)
headtail(data)

str(data)

###################
#
#     Data Management: Columns formatting
#
###################

# Date
levels(data$Date)
data$Date<-as.Date(data$Date, format = "%m/%d/%Y")
str(data$Date)


# Lake
summary(data$Lake)
data$Lake[data$Lake == "SIlver"] <- "Silver"
data$Lake[data$Lake == "silver"] <- "Silver"
data$Lake[data$Lake == "Silver (Dickinson)"] <- "Silver"
data$Lake<-droplevels(data)$Lake

# TAG.NUMBER - Already a factor
summary(data$TAG.NUMBER)
data$TAG.NUMBER[data$TAG.NUMBER == ""] <- NA # set non-tagged fish to NA
summary(data$TAG.NUMBER)
    # don't think anything else needs to be adjusted. mis-keys would be terrible.

# Species
levels(data$Species) #KOI could be an issue, as with BMB and CAP for abbreviations
data$TAG.NUMBER[data$Species == "KOI"]
data$Species[data$Species == "KOI"] <- "COC"
data$Species[data$Species == "CAP"] <- "COC"
data$Species[data$Species == "BMB"] <- "BIB"
data$Species[data$Species == "YL Bass"] <- "YLB"
data$Lake[data$Species == "YLB"]
data$Species<-droplevels(data$Species)
# Confirm the abbreviations: Yellow Bullhead = YEB; Yellow Bass = YLB

# Length..mm.
data$Length..mm.[data$Length..mm. ==""] <- NA
data$Length..mm.[data$Length..mm. =="0"] <- NA
data$Length..mm.<-as.numeric(as.character(data$Length..mm.))
str(data$Length..mm.)
summary(data$Length..mm.) # seems legit! only 33 missing values. 
# 
# Don't forget to put the character command within the numeric!


# Weight..g.
# Needs to be rounded to whole numbers
summary(data$Weight..g.)
# Maximum is now good (30.6 lb buffalo in Storm)
# Minimum is 13 (yellow bass north twin)
data$Weight..g.<-round(data$Weight..g.)



```
